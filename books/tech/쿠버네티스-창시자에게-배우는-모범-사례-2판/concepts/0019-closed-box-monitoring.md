# 폐쇄형 모니터링 (Closed-box Monitoring)

## 정의

애플리케이션 내부 동작보다 시스템 외부에서 보이는 인프라 지표(CPU, 메모리, 스토리지 등)를 중심으로 상태를 감시하는 방식.

## 왜 중요한가?

- 노드/클러스터 자원 고갈을 빠르게 감지할 수 있다.
- 인프라 레벨 장애(노드 다운, 디스크 부족) 대응에 효과적이다.
- 모든 서비스에 공통으로 적용 가능한 기본 관측 계층이다.

## 책 내용 핵심 정리

- 폐쇄형 모니터링은 기존 시스템 모니터링에서 많이 쓰던 방식이다.
- 쿠버네티스 컴포넌트 정상 여부를 확인할 때는 유용하다.
- 하지만 애플리케이션이 왜 느려졌는지 같은 전후 맥락을 얻기 어렵다.

## 실무 포인트

### 1. 인프라 상태 확인용으로 명확히 분리
- CPU/메모리/디스크 사용량
- 노드 상태, 파드 재시작, 스케줄링 실패
- 네트워크 포화/패킷 손실

### 2. 애플리케이션 문제 해석에는 한계를 인지
- 리소스 정상이어도 사용자 요청은 실패할 수 있다.
- 지표만으로는 원인 추적이 불완전하다.

### 3. Open-box와 결합해 운영
- Closed-box는 "기반 상태"
- Open-box는 "서비스 품질"
- 두 계층을 같이 봐야 실제 장애 원인을 빠르게 좁힐 수 있다.

## 바로 적용 가능한 체크리스트

- [ ] 노드/파드/스토리지 리소스 알람 임계치를 정의했다.
- [ ] 인프라 알람과 서비스 품질 알람을 분리했다.
- [ ] 인프라 지표만으로 장애 판정하지 않는 운영 원칙이 있다.
- [ ] 대시보드에 인프라 계층 지표를 표준화했다.

## 실무 한 줄

폐쇄형 모니터링은 시스템이 "버틸 수 있는지"를 알려주지만, "왜 깨졌는지"까지는 알려주지 못한다.

## 관련 개념

- Node/Pod Resource Monitoring
- Infrastructure Health
- Capacity Planning
- Alert Thresholds

## 출처

- 쿠버네티스 창시자에게 배우는 모범 사례 2판

