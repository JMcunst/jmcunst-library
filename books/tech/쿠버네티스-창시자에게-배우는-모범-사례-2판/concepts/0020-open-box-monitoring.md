# 개방형 모니터링 (Open-box Monitoring)

## 정의

애플리케이션 내부 상태와 요청 흐름(요청 수, 에러율, 레이턴시 등)을 중심으로 서비스 품질을 관측하는 방식.

## 왜 중요한가?

- 사용자 경험에 직접 영향을 주는 품질 지표를 볼 수 있다.
- "정상처럼 보이는데 장애" 같은 상황을 빠르게 감지한다.
- 성능 저하 원인을 추적할 단서를 더 많이 제공한다.

## 책 내용 핵심 정리

- 개방형 모니터링은 총 HTTP 요청 수, 500 에러 횟수, 요청 레이턴시처럼 애플리케이션 상태에 주목한다.
- 단순히 현상만 보는 것이 아니라, 시스템 상태가 그렇게 된 이유를 추적할 단서를 제공한다.

## 실무 포인트

### 1. 핵심 4대 지표 중심 설계
- 트래픽(요청 수)
- 에러(5xx 비율)
- 지연(응답 시간, p95/p99)
- 포화(큐 길이, 워커 사용률)

### 2. SLI/SLO 기반 알람
- 에러율, 지연시간에 대한 서비스 목표를 수립한다.
- 목표 위반 시 사용자 영향 기준으로 알람 우선순위를 둔다.

### 3. 차원(라벨) 설계
- endpoint, method, status code, tenant 같은 라벨을 설계한다.
- 과도한 라벨 카디널리티는 비용/성능 문제를 만들 수 있어 통제한다.

## 바로 적용 가능한 체크리스트

- [ ] 요청 수/에러율/레이턴시 대시보드를 서비스별로 운영한다.
- [ ] p95/p99 기준의 지연시간 알람을 구성했다.
- [ ] 500 에러 급증 탐지 규칙을 만들었다.
- [ ] 관측 라벨 정책을 문서화했다.

## 실무 한 줄

개방형 모니터링은 인프라가 아니라 사용자 경험을 기준으로 시스템 건강을 판단하게 만든다.

## 관련 개념

- RED Method
- SLI/SLO
- Metrics Cardinality
- Application Telemetry

## 출처

- 쿠버네티스 창시자에게 배우는 모범 사례 2판

