# 스모크 테스트 실천 (Smoke Test Practice)

## 정의

PR 제출 직전 또는 초기 배포 직후, 핵심 기능만 빠르게 검증해 치명적 결함을 조기에 발견하는 경량 테스트 전략.

## 왜 중요한가?

- 전체 테스트를 기다리기 전에 명백한 실패를 빠르게 잡을 수 있다.
- 개발자 피드백 속도를 높여 불필요한 CI 자원 사용을 줄인다.
- 배포 초기 안정성 확인에 비용 대비 효과가 높다.

## 책 내용 핵심 정리

- PR 제출 직전에 초기 검사 용도의 작은 규모 스모크 테스트가 있으면 도움이 된다.
- 테스트가 길어지는 프로젝트일수록 이런 빠른 전처리 검사가 더 유용하다.

## 실무 포인트

### 1. 스모크 범위를 최소 핵심 경로로 제한한다
- 서비스 기동
- 핵심 API 1~3개 정상 응답
- 필수 의존성(DB/Cache) 연결 확인

### 2. 실행 시간을 엄격히 관리한다
- 목표 실행 시간 예: 1~3분
- 목표를 넘는 경우 스모크 세트에서 분리하고 별도 테스트로 이동

### 3. 실패 신호를 명확히 한다
- 실패 시 즉시 PR 차단 또는 경고
- 어떤 경로가 실패했는지 로그를 짧고 명확하게 제공

## 바로 적용 가능한 체크리스트

- [ ] 스모크 테스트 대상 기능을 문서화했다.
- [ ] 실행 시간이 짧은지 지속적으로 점검한다.
- [ ] PR 파이프라인 초반 단계에 배치했다.
- [ ] 실패 원인을 빠르게 확인할 로그를 남긴다.

## 실무 한 줄

스모크 테스트는 품질 보증의 대체제가 아니라, 큰 실패를 먼저 막는 초기 방어선이다.

## 관련 개념

- Fast-fail pipeline
- Pre-merge checks
- Canary verification
- Test prioritization

## 출처

- 쿠버네티스 창시자에게 배우는 모범 사례 2판

